const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/OverviewTab-Dub9dgh2.js","assets/vendor-C1l_5e97.js","assets/AnimatedStatCard-CFYT6tyd.js","assets/BloodThemeContext-E2xwPxg0.js","assets/InteractiveHeatmap-D0zzZyvd.js","assets/useBloodCalculations-DWVh3LxI.js","assets/BiomarkersTab-3_YAdCjr.js","assets/ReportSectionTab-C6a0h1Dz.js"])))=>i.map(i=>d[i]);
import{c as B,_ as b}from"./index-Cv9frRJP.js";import{r as c,j as e,bf as L,bb as D,M as q}from"./vendor-C1l_5e97.js";import{S as O}from"./Sidebar-BrqQpKwp.js";import{U as V}from"./themes-DjiGQari.js";import{T as H,a as U,b as d,c as m}from"./tabs-BaqYUGmo.js";import{B as W}from"./BloodThemeContext-E2xwPxg0.js";import{u as $,a as F}from"./useBloodCalculations-DWVh3LxI.js";const A=r=>r.toLowerCase().replace(/[àáâãäå]/g,"a").replace(/[èéêë]/g,"e").replace(/[ìíîï]/g,"i").replace(/[òóôõö]/g,"o").replace(/[ùúûü]/g,"u").replace(/[ç]/g,"c").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),G=r=>{const t=c.useMemo(()=>{if(!r)return[];const n=[],f=r.split(`
`);let i=null;for(const x of f)if(x.startsWith("## ")){i&&n.push(i);const u=x.replace("## ","").trim();i={id:A(u),title:u,content:x+`
`}}else i&&(i.content+=x+`
`);return i&&n.push(i),n},[r]),s=c.useMemo(()=>t.filter(n=>n.id.startsWith("axe-")&&/axe-\d+/.test(n.id)).map(n=>n.id),[t]);return{reportSections:t,axeSections:s,normalizeSectionId:A}};function a({className:r="",variant:t="rectangular"}){const s={rectangular:"rounded-md",circular:"rounded-full",text:"rounded h-4 my-2"};return e.jsx("div",{className:B("animate-pulse bg-zinc-800/50",s[t],r)})}function _(){return e.jsxs("div",{className:"space-y-8 p-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(a,{className:"w-48 h-8"}),e.jsx(a,{className:"w-96 h-5"})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[...Array(8)].map((r,t)=>e.jsx(a,{className:"w-28 h-10 flex-shrink-0"},t))}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center p-6 border border-zinc-800 rounded-lg",children:[e.jsx(a,{variant:"circular",className:"w-56 h-56"}),e.jsx(a,{className:"w-40 h-4 mt-4"})]}),e.jsxs("div",{className:"p-6 border border-zinc-800 rounded-lg space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(a,{variant:"circular",className:"w-5 h-5"}),e.jsx(a,{className:"w-48 h-6"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:[...Array(6)].map((r,t)=>e.jsx(a,{className:"h-16"},t))})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((r,t)=>e.jsx(a,{className:"h-32"},t))}),e.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:[...Array(3)].map((r,t)=>e.jsxs("div",{className:"border border-zinc-800 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(a,{variant:"circular",className:"w-3 h-3"}),e.jsx(a,{className:"w-24 h-5"})]}),e.jsx("div",{className:"space-y-2",children:[...Array(4)].map((s,n)=>e.jsx(a,{className:"w-full h-4"},n))})]},t))})]})}function Y(){return e.jsx("div",{className:"space-y-10",children:[...Array(3)].map((r,t)=>e.jsxs("section",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(a,{variant:"circular",className:"w-5 h-5"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{className:"w-48 h-6"}),e.jsx(a,{className:"w-64 h-4"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[...Array(4)].map((s,n)=>e.jsxs("div",{className:"border border-zinc-800 rounded-lg p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(a,{className:"w-32 h-5"}),e.jsx(a,{className:"w-24 h-4"})]}),e.jsx(a,{className:"w-20 h-6 rounded-full"})]}),e.jsx(a,{className:"w-full h-3 rounded-full"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(a,{className:"w-16 h-3"}),e.jsx(a,{className:"w-16 h-3"}),e.jsx(a,{className:"w-16 h-3"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{className:"w-full h-3"}),e.jsx(a,{className:"w-3/4 h-3"})]})]},n))})]},t))})}function j(){return e.jsxs("div",{className:"border border-zinc-800 rounded-lg p-6 space-y-6",children:[e.jsx(a,{className:"w-64 h-8"}),e.jsx("div",{className:"space-y-4",children:[...Array(5)].map((r,t)=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{className:"w-full h-4"}),e.jsx(a,{className:"w-full h-4"}),e.jsx(a,{className:"w-11/12 h-4"}),e.jsx(a,{className:"w-4/5 h-4"})]},t))}),e.jsxs("div",{className:"space-y-3 mt-8",children:[e.jsx(a,{className:"w-48 h-6"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{className:"w-full h-4"}),e.jsx(a,{className:"w-full h-4"}),e.jsx(a,{className:"w-10/12 h-4"})]})]}),e.jsxs("div",{className:"space-y-3 mt-8",children:[e.jsx(a,{className:"w-56 h-6"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{className:"w-full h-4"}),e.jsx(a,{className:"w-full h-4"}),e.jsx(a,{className:"w-9/12 h-4"})]})]})]})}const J=c.lazy(()=>b(()=>import("./OverviewTab-Dub9dgh2.js"),__vite__mapDeps([0,1,2,3,4,5])).then(r=>({default:r.OverviewTab}))),K=c.lazy(()=>b(()=>import("./BiomarkersTab-3_YAdCjr.js"),__vite__mapDeps([6,1,5,3])).then(r=>({default:r.BiomarkersTab}))),y=c.lazy(()=>b(()=>import("./ReportSectionTab-C6a0h1Dz.js"),__vite__mapDeps([7,1])).then(r=>({default:r.ReportSectionTab}))),N=V,Q=N.find(r=>r.id==="metabolic")||N.find(r=>r.type==="light")||N[1],X=c.memo(function(){var k,S,T;const{reportId:t}=L(),[s,n]=c.useState(Q),[f,i]=c.useState(!1),[x,u]=c.useState("overview"),{data:l,isLoading:P,error:g}=$(t),v=g?g.message:null,{normalizedMarkers:R,panelGroups:w,globalScore:E}=F(l||null),{reportSections:p,axeSections:M,normalizeSectionId:h}=G(l==null?void 0:l.aiReport);c.useEffect(()=>{const o=document.documentElement;o.style.setProperty("--color-bg",s.colors.background),o.style.setProperty("--color-surface",s.colors.surface),o.style.setProperty("--color-border",s.colors.border),o.style.setProperty("--color-text",s.colors.text),o.style.setProperty("--color-text-muted",s.colors.textMuted),o.style.setProperty("--color-primary",s.colors.primary),o.style.setProperty("--color-grid",s.colors.grid),o.style.setProperty("--color-on-primary",s.type==="dark"?"#000":"#fff"),o.style.setProperty("--primary",s.colors.primary),o.style.setProperty("--text",s.colors.text),o.style.setProperty("--text-secondary",s.colors.textMuted),o.style.setProperty("--text-muted",s.colors.textMuted),o.style.setProperty("--surface-1",s.colors.surface),o.style.setProperty("--surface-2",s.colors.background),o.style.setProperty("--border",s.colors.border),o.style.setProperty("--accent-ok",s.colors.primary),o.style.setProperty("--accent-warning",s.colors.primary)},[s]);const z=((k=l==null?void 0:l.analysis)==null?void 0:k.summary)||{optimal:[],watch:[],action:[]},C=[{id:"overview",title:"Overview",subtitle:"Vue d'ensemble",content:""},{id:"biomarkers",title:"Biomarqueurs",subtitle:"Lecture par marqueur",content:""},{id:"synthese",title:"Synthèse",subtitle:"Executive summary",content:""},{id:"donnees",title:"Données & Tests",subtitle:"Limites & manquants",content:""},{id:"axes",title:"Analyse Axes",subtitle:"Lecture par systèmes",content:""},{id:"plan",title:"Plan 90j",subtitle:"Action concrète",content:""},{id:"protocoles",title:"Protocoles",subtitle:"Nutrition & supps",content:""},{id:"annexes",title:"Annexes",subtitle:"Détails techniques",content:""}],I=(S=l==null?void 0:l.profile)!=null&&S.prenom?String((T=l==null?void 0:l.profile)==null?void 0:T.prenom):l!=null&&l.email?l.email.split("@")[0]:"Profil";return P?e.jsx("div",{className:"min-h-screen",style:{backgroundColor:s.colors.background,color:s.colors.text},children:e.jsx(_,{})}):v?e.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:s.colors.background},children:e.jsxs("div",{className:"max-w-md text-center space-y-3",children:[e.jsx(D,{className:"w-10 h-10 mx-auto",style:{color:s.colors.primary}}),e.jsx("p",{className:"text-lg font-semibold",style:{color:s.colors.text},children:"Impossible de charger le rapport"}),e.jsx("p",{className:"text-sm",style:{color:s.colors.textMuted},children:v})]})}):e.jsxs("div",{className:"ultrahuman-report min-h-screen flex",style:{backgroundColor:s.colors.background,color:s.colors.text},children:[e.jsx("aside",{className:`fixed lg:sticky top-0 left-0 h-screen w-72 border-r z-40 transition-transform lg:translate-x-0 ${f?"translate-x-0":"-translate-x-full"}`,style:{backgroundColor:s.colors.background,borderColor:s.colors.border},children:e.jsx(O,{sections:C,activeSection:x,onNavigate:u,themes:N,currentTheme:s,onThemeChange:n,clientName:I,auditType:"BLOOD_ANALYSIS"})}),f&&e.jsx("div",{className:"fixed inset-0 z-30 lg:hidden",onClick:()=>i(!1),style:{backgroundColor:s.type==="dark"?"rgba(0, 0, 0, 0.5)":"rgba(0, 0, 0, 0.2)"}}),e.jsxs("main",{className:"flex-1 overflow-y-auto h-screen",children:[e.jsx("button",{onClick:()=>i(!f),className:"lg:hidden fixed top-4 left-4 z-50 p-2 rounded-lg",style:{backgroundColor:s.colors.surface},children:e.jsx(q,{className:"w-5 h-5"})}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 py-6 sm:py-10",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.2em]",style:{color:s.colors.textMuted},children:"Blood Analysis"}),e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-2",children:"Tableau de bord biomarqueurs"}),e.jsx("p",{className:"text-xs sm:text-sm mt-2",style:{color:s.colors.textMuted},children:"Lecture premium de ton bilan sanguin, ranges optimaux et axes de correction."})]}),e.jsxs(H,{value:x,onValueChange:u,children:[e.jsx("div",{className:"mb-6 overflow-x-auto -mx-6 px-6 lg:mx-0 lg:px-0",children:e.jsxs(U,{className:"inline-flex lg:grid lg:grid-cols-8 gap-2 h-auto w-full lg:w-full p-2 min-w-max lg:min-w-0",children:[e.jsx(d,{value:"overview",className:"whitespace-nowrap",children:"Overview"}),e.jsx(d,{value:"biomarkers",className:"whitespace-nowrap",children:"Biomarqueurs"}),e.jsx(d,{value:"synthese",className:"whitespace-nowrap",children:"Synthèse"}),e.jsx(d,{value:"donnees",className:"whitespace-nowrap",children:"Données & Tests"}),e.jsx(d,{value:"axes",className:"whitespace-nowrap",children:"Analyse Axes"}),e.jsx(d,{value:"plan",className:"whitespace-nowrap",children:"Plan 90j"}),e.jsx(d,{value:"protocoles",className:"whitespace-nowrap",children:"Protocoles"}),e.jsx(d,{value:"annexes",className:"whitespace-nowrap",children:"Annexes"})]})}),e.jsx(m,{value:"overview",children:e.jsx(c.Suspense,{fallback:e.jsx(_,{}),children:e.jsx(J,{globalScore:E,normalizedMarkers:R,panelGroups:w,summary:z,currentTheme:s,setActiveTab:u})})}),e.jsx(m,{value:"biomarkers",children:e.jsx(c.Suspense,{fallback:e.jsx(Y,{}),children:e.jsx(K,{panelGroups:w,currentTheme:s})})}),e.jsx(m,{value:"synthese",children:e.jsx(c.Suspense,{fallback:e.jsx(j,{}),children:e.jsx(y,{sectionIds:["synthese-executive","tableau-de-bord-scores-priorites","potentiel-recomposition","vigilance"],reportSections:p,aiReport:l==null?void 0:l.aiReport,currentTheme:s,normalizeSectionId:h})})}),e.jsx(m,{value:"donnees",children:e.jsx(c.Suspense,{fallback:e.jsx(j,{}),children:e.jsx(y,{sectionIds:["qualite-des-donnees-limites","marqueurs-manquants-recommandations-de-tests","tests-complementaires","correlations-lifestyle"],reportSections:p,aiReport:l==null?void 0:l.aiReport,currentTheme:s,normalizeSectionId:h})})}),e.jsx(m,{value:"axes",children:e.jsx(c.Suspense,{fallback:e.jsx(j,{}),children:e.jsx(y,{sectionIds:["lecture-compartimentee-par-axes",...M,"interconnexions-majeures","deep-dive","analyse-par-axe","deep-dive-marqueurs-prioritaires","correlations-lifestyle"],reportSections:p,aiReport:l==null?void 0:l.aiReport,currentTheme:s,normalizeSectionId:h})})}),e.jsx(m,{value:"plan",children:e.jsx(c.Suspense,{fallback:e.jsx(j,{}),children:e.jsx(y,{sectionIds:["plan-90-jours","plan-action","plan-d-action-90-jours"],reportSections:p,aiReport:l==null?void 0:l.aiReport,currentTheme:s,normalizeSectionId:h})})}),e.jsx(m,{value:"protocoles",children:e.jsx(c.Suspense,{fallback:e.jsx(j,{}),children:e.jsx(y,{sectionIds:["protocole-nutrition","protocole-supplements","nutrition-entrainement","supplementation","plan-d-action-90-jours"],reportSections:p,aiReport:l==null?void 0:l.aiReport,currentTheme:s,normalizeSectionId:h})})}),e.jsx(m,{value:"annexes",children:e.jsx(c.Suspense,{fallback:e.jsx(j,{}),children:e.jsx(y,{sectionIds:["annexes","bibliographie","vigilance"],reportSections:p,aiReport:l==null?void 0:l.aiReport,currentTheme:s,normalizeSectionId:h})})})]})]})]})]})});function ce(){return e.jsx(W,{children:e.jsx(X,{})})}export{ce as default};
