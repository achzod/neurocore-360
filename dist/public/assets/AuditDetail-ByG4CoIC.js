import{r as d,j as e,B as z,aO as K,aR as A,aI as te,aV as F,bj as ae,bk as Q,aS as re,e as H,aE as O,aZ as ie,a_ as le,a$ as ne,b0 as ce,b1 as oe,b2 as de,bl as q,bm as B,bn as R,bo as X,bp as ee,bq as se,bf as me,u as xe,s as U,br as ue,F as Y,aC as he,b8 as J,bs as pe,b7 as fe,am as be,bt as je,aj as ge,bd as Ne,bu as ye,bb as ve,an as we,au as ke,aG as Se,bv as Ee,as as Te,ay as Re,bw as Ce}from"./vendor-C1l_5e97.js";import{c as Ae,u as De,H as P,F as M}from"./index-DvBPY4Ge.js";import{B as S}from"./button-BtttnI-5.js";import{T as Le}from"./textarea-CY7trlQ4.js";import{C as u,c as p,a as j,b as g}from"./card-D1XCqY91.js";import{B as E}from"./badge-CWVQ_ysa.js";function Ie({auditId:s,onSubmit:t}){const[i,n]=d.useState(0),[r,m]=d.useState(0),[c,f]=d.useState(""),[v,x]=d.useState(!1),[w,b]=d.useState(!1),[D,k]=d.useState(null),[L,W]=d.useState(null),[$,V]=d.useState(null),[T,a]=d.useState(null);d.useEffect(()=>{if(t||!s)return;(async()=>{try{const o=await fetch(`/api/audits/${s}?light=1`);if(!o.ok)throw new Error("Audit non trouvé");const N=await o.json(),y=String(N.type||"").toUpperCase(),I=y==="GRATUIT"?"DISCOVERY":y==="PREMIUM"?"ANABOLIC_BIOSCAN":y==="ELITE"?"ULTIMATE_SCAN":y==="BLOOD_ANALYSIS"?"BLOOD_ANALYSIS":null;W(N.email||null),V(I)}catch(o){console.error("ReviewForm audit load failed:",o),a("Impossible de charger l'audit.")}})()},[s,t]);const h=async()=>{if(i===0){k("Veuillez sélectionner une note");return}if(c.length<10){k("Le commentaire doit contenir au moins 10 caractères");return}x(!0),k(null);try{if(t)await t({rating:i,comment:c});else{if(!L||!$)throw new Error("Email ou type d'audit manquant");const o=await(await fetch("/api/submit-review",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auditId:s,rating:i,comment:c,email:L,auditType:$})})).json();if(!o.success)throw new Error(o.error||"Erreur lors de la soumission")}b(!0)}catch(l){k(l.message||"Erreur lors de la soumission")}finally{x(!1)}};return w?e.jsx(u,{className:"border-primary/20 bg-primary/5","data-testid":"card-review-success",children:e.jsx(p,{className:"py-8",children:e.jsxs(z.div,{initial:{scale:0},animate:{scale:1},className:"flex flex-col items-center text-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/20 flex items-center justify-center",children:e.jsx(K,{className:"w-8 h-8 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Merci pour votre avis !"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Votre retour sera examiné et publié prochainement."})]})]})})}):e.jsxs(u,{className:"border-border/50","data-testid":"card-review-form",children:[e.jsx(j,{children:e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx(A,{className:"w-5 h-5 text-primary"}),"Donnez votre avis sur cet audit"]})}),e.jsxs(p,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-3 block",children:"Votre note"}),e.jsx("div",{className:"flex gap-2","data-testid":"rating-stars",children:[1,2,3,4,5].map(l=>e.jsx("button",{type:"button",onClick:()=>n(l),onMouseEnter:()=>m(l),onMouseLeave:()=>m(0),className:"p-1 transition-transform hover:scale-110","data-testid":`button-star-${l}`,children:e.jsx(A,{className:`w-8 h-8 transition-colors ${l<=(r||i)?"fill-yellow-400 text-yellow-400":"text-muted-foreground/30"}`})},l))}),i>0&&e.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[i===1&&"Décevant",i===2&&"Peut mieux faire",i===3&&"Correct",i===4&&"Très bien",i===5&&"Excellent !"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Votre commentaire"}),e.jsx(Le,{value:c,onChange:l=>f(l.target.value),placeholder:"Partagez votre expérience avec cet audit 360...",className:"min-h-[120px] resize-none","data-testid":"textarea-comment"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[c.length,"/10 caractères minimum"]})]}),e.jsx(te,{children:D&&e.jsx(z.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"text-sm text-destructive","data-testid":"text-error",children:D})}),T&&e.jsx("p",{className:"text-xs text-destructive",children:T}),e.jsx(S,{onClick:h,disabled:v,className:"w-full","data-testid":"button-submit-review",children:v?e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"w-4 h-4 mr-2 animate-spin"}),"Envoi en cours..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"w-4 h-4 mr-2"}),"Envoyer mon avis"]})})]})]})}const C=d.forwardRef(({className:s,orientation:t="horizontal",decorative:i=!0,...n},r)=>e.jsx(Q,{ref:r,decorative:i,orientation:t,className:Ae("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s),...n}));C.displayName=Q.displayName;function Pe(s){switch(s){case"excellent":return{color:"bg-emerald-500",text:"Excellent",textColor:"text-emerald-700"};case"bon":return{color:"bg-blue-500",text:"Bon",textColor:"text-blue-700"};case"moyen":return{color:"bg-amber-500",text:"À optimiser",textColor:"text-amber-700"};case"faible":return{color:"bg-red-500",text:"Prioritaire",textColor:"text-red-700"};default:return{color:"bg-gray-500",text:"Non évalué",textColor:"text-gray-700"}}}function Z(s){if(!s)return null;const t=s.split(/[,\n]/).filter(i=>i.trim());return t.length<=1?e.jsx("p",{className:"text-foreground/80 leading-relaxed",children:s}):e.jsx("ul",{className:"space-y-2",children:t.map((i,n)=>e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary mt-2 flex-shrink-0"}),e.jsx("span",{className:"text-foreground/80 leading-relaxed",children:i.trim().replace(/^[-•]\s*/,"")})]},n))})}function Me({title:s,content:t,score:i,level:n,isLocked:r,onUnlock:m,expertName:c,isNarrative:f}){const v=Pe(n);return r?e.jsxs(u,{className:"relative overflow-hidden border-2 border-dashed border-muted-foreground/20",children:[e.jsxs("div",{className:"absolute inset-0 bg-gradient-to-b from-background/80 to-background backdrop-blur-sm z-10 flex flex-col items-center justify-center p-8",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:e.jsx(re,{className:"w-8 h-8 text-primary"})}),e.jsx("h3",{className:"text-xl font-semibold text-center mb-2",children:s}),e.jsx("p",{className:"text-muted-foreground text-center mb-6 max-w-md",children:"Débloquez cette analyse experte pour découvrir votre protocole personnalisé avec dosages précis et recommandations ciblées."}),e.jsxs(S,{onClick:m,className:"gap-2",children:[e.jsx(A,{className:"w-4 h-4"}),"Passer en Anabolic",e.jsx(H,{className:"w-4 h-4"})]})]}),e.jsx(j,{className:"blur-sm select-none pointer-events-none",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(g,{className:"text-xl",children:s}),e.jsxs(E,{variant:"secondary",children:[i,"%"]})]})}),e.jsx(p,{className:"blur-sm select-none pointer-events-none min-h-[200px]",children:e.jsx("p",{className:"text-muted-foreground",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris."})})]}):e.jsxs(u,{className:"border border-border/50 shadow-sm",children:[e.jsx(j,{className:"border-b border-border/30 bg-muted/30",children:e.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${v.color}`}),e.jsx(g,{className:"text-xl font-semibold",children:s})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(E,{variant:"outline",className:v.textColor,children:v.text}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 rounded-full bg-background border",children:[e.jsx("span",{className:"text-2xl font-bold",children:i}),e.jsx("span",{className:"text-muted-foreground text-sm",children:"/100"})]})]})]})}),e.jsxs(p,{className:"p-6 space-y-6",children:[t.introduction&&e.jsx("div",{className:`${f?"":"bg-primary/5 border-l-4 border-primary p-4 rounded-r-md"}`,children:f?e.jsx("div",{className:"space-y-4",children:t.introduction.split(`
`).map((x,w)=>{const b=x.trim();return b?b.startsWith("===")||b.startsWith("---")?e.jsx(C,{className:"my-6"},w):b.startsWith("- ")||b.startsWith("• ")?e.jsxs("div",{className:"flex items-start gap-3 pl-2",children:[e.jsx("span",{className:"text-primary font-bold",children:"✓"}),e.jsx("p",{className:"text-foreground/80 leading-relaxed",children:b.substring(2)})]},w):e.jsx("p",{className:"text-foreground/90 leading-relaxed text-lg",children:b},w):null})}):e.jsx("p",{className:"text-foreground leading-relaxed font-medium",children:t.introduction})}),t.whatIsWrong&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-semibold text-lg flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 rounded bg-red-100 dark:bg-red-900/30 flex items-center justify-center text-red-600 text-sm",children:"!"}),"Points d'attention"]}),Z(t.whatIsWrong)]}),t.personalizedAnalysis&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-lg",children:"Analyse personnalisée"}),e.jsx("p",{className:"text-foreground/80 leading-relaxed",children:t.personalizedAnalysis})]}),t.recommendations&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-semibold text-lg flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 rounded bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center text-emerald-600 text-sm",children:"✓"}),"Recommandations"]}),Z(t.recommendations)]}),t.supplements&&t.supplements.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-semibold text-lg flex items-center gap-2",children:[e.jsx(O,{className:"w-5 h-5 text-primary"}),"Protocole Suppléments"]}),e.jsx("div",{className:"grid gap-4",children:t.supplements.map((x,w)=>e.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 border border-border/50",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap mb-3",children:[e.jsx("h5",{className:"font-semibold text-primary",children:x.name}),e.jsx(E,{variant:"secondary",className:"font-mono",children:x.dosage})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 text-sm mb-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Timing:"}),e.jsx("span",{className:"ml-2 font-medium",children:x.timing})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Durée:"}),e.jsx("span",{className:"ml-2 font-medium",children:x.duration})]}),x.brands&&x.brands.length>0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Marques:"}),e.jsx("span",{className:"ml-2 font-medium",children:x.brands.slice(0,2).join(", ")})]})]}),e.jsx("p",{className:"text-sm text-foreground/70",children:x.why}),x.warnings&&e.jsxs("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-2 flex items-center gap-1",children:[e.jsx("span",{children:"⚠️"})," ",x.warnings]})]},w))})]}),t.actionPlan&&e.jsxs("div",{className:"space-y-3 bg-blue-50 dark:bg-blue-950/30 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[e.jsx("h4",{className:"font-semibold text-lg text-blue-800 dark:text-blue-300",children:"Plan d'action Semaine 1"}),e.jsx("p",{className:"text-blue-900/80 dark:text-blue-100/80 leading-relaxed text-sm",children:t.actionPlan})]}),t.scienceDeepDive&&e.jsxs("details",{className:"group",children:[e.jsxs("summary",{className:"cursor-pointer text-sm text-muted-foreground hover:text-foreground transition-colors flex items-center gap-2",children:[e.jsx(H,{className:"w-4 h-4 group-open:rotate-90 transition-transform"}),"Science & Mécanismes"]}),e.jsx("div",{className:"mt-3 pl-6 text-sm text-foreground/70 leading-relaxed",children:t.scienceDeepDive})]}),c&&e.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t border-border/30",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(O,{className:"w-4 h-4 text-primary"})}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Analyse par"}),e.jsx("span",{className:"ml-1 font-medium",children:c})]})]})]})]})}const Oe={profilbase:"Profil",compositioncorporelle:"Composition",metabolismeenergie:"Métabolisme",nutritiontracking:"Nutrition",digestionmicrobiome:"Digestion",activiteperformance:"Performance",sommeilrecuperation:"Sommeil",hrvcardiaque:"HRV",analysesbiomarqueurs:"Biomarqueurs",hormonesstress:"Hormones",lifestylesubstances:"Lifestyle",biomecaniquemobilite:"Mobilité",psychologiemental:"Mental",neurotransmetteurs:"Neuro",hormonessexuelles:"Libido"};function $e({scores:s,size:t="md"}){const i=Object.entries(s).filter(([r])=>r!=="global").map(([r,m])=>({subject:Oe[r]||r,score:m,fullMark:100})),n={sm:250,md:350,lg:450};return e.jsx("div",{className:"w-full",style:{height:n[t]},children:e.jsx(ie,{width:"100%",height:"100%",children:e.jsxs(le,{cx:"50%",cy:"50%",outerRadius:"75%",data:i,children:[e.jsx(ne,{stroke:"hsl(var(--border))",strokeOpacity:.5}),e.jsx(ce,{dataKey:"subject",tick:{fill:"hsl(var(--muted-foreground))",fontSize:t==="sm"?10:12}}),e.jsx(oe,{angle:90,domain:[0,100],tick:{fill:"hsl(var(--muted-foreground))",fontSize:10},tickCount:5}),e.jsx(de,{name:"Score",dataKey:"score",stroke:"hsl(var(--primary))",fill:"hsl(var(--primary))",fillOpacity:.3,strokeWidth:2})]})})})}function _(s){return s>=80?"text-emerald-500":s>=70?"text-blue-500":s>=60?"text-amber-500":"text-red-500"}function Ue(s){return s>=85?"Excellent":s>=75?"Très Bon":s>=65?"Bon":s>=55?"À Optimiser":"Prioritaire"}function Fe({score:s,size:t="md",showLabel:i=!0}){const r={sm:{container:"w-24 h-24",text:"text-2xl",label:"text-xs"},md:{container:"w-36 h-36",text:"text-4xl",label:"text-sm"},lg:{container:"w-48 h-48",text:"text-5xl",label:"text-base"}}[t],m=2*Math.PI*45,c=m-s/100*m;return e.jsxs("div",{className:`${r.container} relative flex items-center justify-center`,children:[e.jsxs("svg",{className:"absolute inset-0 -rotate-90",viewBox:"0 0 100 100",children:[e.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"currentColor",strokeWidth:"8",className:"text-muted/30"}),e.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"url(#scoreGradient)",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:m,strokeDashoffset:c,className:"transition-all duration-1000 ease-out"}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"scoreGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"0%",className:`${_(s)}`,stopColor:"currentColor"}),e.jsx("stop",{offset:"100%",className:`${_(s)}`,stopColor:"currentColor",stopOpacity:"0.7"})]})})]}),e.jsxs("div",{className:"text-center z-10",children:[e.jsx("span",{className:`${r.text} font-bold ${_(s)}`,children:s}),i&&e.jsx("p",{className:`${r.label} text-muted-foreground mt-1`,children:Ue(s)})]})]})}const ze={GRATUIT:"Discovery Scan",PREMIUM:"Anabolic Bioscan",ELITE:"Ultimate Scan"};q({email:R().email(),name:R().optional(),credits:B().int().nonnegative().optional()});q({userId:R(),type:ee(["GRATUIT","PREMIUM","ELITE"]),responses:X(se()).optional().default({})});q({email:R().email(),currentSection:B().min(0).max(50),totalSections:B().min(1).max(50).optional(),responses:X(se())});q({auditId:R(),userId:R().optional(),email:R().email("Email invalide"),auditType:ee(["DISCOVERY","ANABOLIC_BIOSCAN","ULTIMATE_SCAN","BLOOD_ANALYSIS"]),rating:B().min(1).max(5),comment:R().min(10,"Le commentaire doit contenir au moins 10 caractères")});const Be=["profil-base","composition-corporelle","metabolisme-energie","nutrition-tracking"];function G(s){return s>=80?"excellent":s>=65?"bon":s>=50?"moyen":"faible"}function qe({photoAnalysis:s,isPremium:t}){if(!t)return null;if(!s)return e.jsxs(u,{className:"border-amber-200 dark:border-amber-800 bg-amber-50/50 dark:bg-amber-950/20",children:[e.jsx(j,{className:"pb-3",children:e.jsxs(g,{className:"flex items-center gap-2 text-lg",children:[e.jsx(ye,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"}),"Analyse Visuelle"]})}),e.jsx(p,{children:e.jsxs("div",{className:"flex items-start gap-3 text-amber-700 dark:text-amber-300",children:[e.jsx(ve,{className:"h-5 w-5 mt-0.5 shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Donnees visuelles non disponibles (photos manquantes)"}),e.jsx("p",{className:"text-sm text-amber-600 dark:text-amber-400 mt-1",children:"Les mensurations declaratives (tours, %BF, ratio) ne sont pas utilisees car peu fiables. Pour une analyse corporelle precise, soumettez vos photos (face/profil/dos) lors de votre prochain audit."})]})]})})]});const i=G(s.score),n={excellent:"bg-emerald-500",bon:"bg-blue-500",moyen:"bg-amber-500",faible:"bg-red-500"};return e.jsxs(u,{className:"border-primary/20",children:[e.jsx(j,{className:"pb-3 bg-primary/5 rounded-t-md border-b",children:e.jsxs(g,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-lg",children:[e.jsx(we,{className:"h-5 w-5 text-primary"}),"Analyse Visuelle"]}),e.jsxs(E,{className:`${n[i]} text-white`,children:[s.score,"%"]})]})}),e.jsxs(p,{className:"space-y-4 pt-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Synthese"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.summary})]}),e.jsx(C,{}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Analyse Posturale"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.postureAnalysis})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Analyse Musculaire"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.muscularAnalysis})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Analyse Adiposite"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.fatAnalysis})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Recommandations"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.recommendations})]})]}),s.correctiveProtocol&&e.jsxs(e.Fragment,{children:[e.jsx(C,{}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Protocole Correctif"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.correctiveProtocol})]})]})]})]})}function We({sections:s}){const t=[...s].sort((r,m)=>m.score-r.score),i=t.slice(0,3),n=t.slice(-3).reverse();return e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(u,{className:"border-emerald-200 dark:border-emerald-800",children:[e.jsx(j,{className:"pb-3 bg-emerald-50 dark:bg-emerald-950/30 rounded-t-md",children:e.jsxs(g,{className:"flex items-center gap-2 text-lg text-emerald-700 dark:text-emerald-400",children:[e.jsx(ge,{className:"h-5 w-5"}),"Points Forts"]})}),e.jsx(p,{className:"space-y-2 pt-4",children:i.map(r=>e.jsxs("div",{className:"flex items-center justify-between rounded-md bg-emerald-50 dark:bg-emerald-950/20 p-3 border border-emerald-100 dark:border-emerald-900",children:[e.jsx("span",{className:"font-medium text-sm",children:r.title}),e.jsxs(E,{className:"bg-emerald-500 text-white",children:[r.score,"%"]})]},r.id))})]}),e.jsxs(u,{className:"border-amber-200 dark:border-amber-800",children:[e.jsx(j,{className:"pb-3 bg-amber-50 dark:bg-amber-950/30 rounded-t-md",children:e.jsxs(g,{className:"flex items-center gap-2 text-lg text-amber-700 dark:text-amber-400",children:[e.jsx(Ne,{className:"h-5 w-5"}),"Axes d'Optimisation"]})}),e.jsx(p,{className:"space-y-2 pt-4",children:n.map(r=>e.jsxs("div",{className:"flex items-center justify-between rounded-md bg-amber-50 dark:bg-amber-950/20 p-3 border border-amber-100 dark:border-amber-900",children:[e.jsx("span",{className:"font-medium text-sm",children:r.title}),e.jsxs(E,{className:"bg-amber-500 text-white",children:[r.score,"%"]})]},r.id))})]})]})}function Ve({supplements:s}){if(!s||s.length===0)return null;const t=s.reduce((i,n)=>{const r=n.name.toLowerCase();return i.find(m=>m.name.toLowerCase()===r)||i.push(n),i},[]);return e.jsxs(u,{children:[e.jsx(j,{className:"bg-primary/5 rounded-t-md border-b",children:e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-5 w-5 text-primary"}),"Stack de Supplements Personnalise"]})}),e.jsx(p,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-muted/30",children:[e.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Supplement"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Dosage"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Timing"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold hidden lg:table-cell",children:"Duree"})]})}),e.jsx("tbody",{className:"divide-y",children:t.map((i,n)=>e.jsxs("tr",{className:"hover:bg-muted/30 transition-colors",children:[e.jsxs("td",{className:"px-4 py-4",children:[e.jsx("div",{className:"font-medium text-primary",children:i.name}),i.brands&&i.brands.length>0&&e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:i.brands.slice(0,2).join(", ")})]}),e.jsx("td",{className:"px-4 py-4",children:e.jsx(E,{variant:"outline",className:"font-mono",children:i.dosage})}),e.jsx("td",{className:"px-4 py-4 text-muted-foreground",children:i.timing}),e.jsx("td",{className:"px-4 py-4 text-muted-foreground hidden lg:table-cell",children:i.duration})]},n))})]})})})]})}function _e(){const s=[{time:"Matin (6h-8h)",icon:Ee,color:"text-amber-500",bgColor:"bg-amber-50 dark:bg-amber-950/30",items:["Exposition lumiere naturelle 10-15 min","Hydratation : 500ml eau + citron","Supplements : Vitamine D, Omega-3","Mouvement : 5 min mobilite"]},{time:"Midi (12h-14h)",icon:Te,color:"text-orange-500",bgColor:"bg-orange-50 dark:bg-orange-950/30",items:["Repas riche en proteines + legumes","Marche digestive 10-15 min","Pause respiration si stress"]},{time:"Soir (18h-21h)",icon:Re,color:"text-blue-500",bgColor:"bg-blue-50 dark:bg-blue-950/30",items:["Dernier repas 3h avant coucher","Supplements : Magnesium glycinate","Limiter ecrans (lunettes anti-lumiere bleue)","Routine relaxation : lecture, etirements"]}];return e.jsxs(u,{children:[e.jsx(j,{className:"bg-primary/5 rounded-t-md border-b",children:e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx(Se,{className:"h-5 w-5 text-primary"}),"Protocole Quotidien Type"]})}),e.jsx(p,{className:"pt-6",children:e.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:s.map((t,i)=>e.jsxs("div",{className:`rounded-lg ${t.bgColor} p-4 border`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(t.icon,{className:`h-5 w-5 ${t.color}`}),e.jsx("span",{className:"font-semibold text-sm",children:t.time})]}),e.jsx("ul",{className:"space-y-2",children:t.items.map((n,r)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(K,{className:"h-4 w-4 text-primary mt-0.5 shrink-0"}),e.jsx("span",{className:"text-foreground/80",children:n})]},r))})]},i))})})]})}function Ge({weeklyPlan:s}){const t=[{title:"Semaine 1",subtitle:"Fondations",content:s.week1,color:"bg-primary"},{title:"Semaine 2",subtitle:"Consolidation",content:s.week2,color:"bg-blue-500"},{title:"Semaines 3-4",subtitle:"Optimisation",content:s.weeks3_4,color:"bg-purple-500"},{title:"Mois 2-3",subtitle:"Maintenance",content:s.months2_3,color:"bg-accent"}];return e.jsxs(u,{children:[e.jsx(j,{className:"bg-primary/5 rounded-t-md border-b",children:e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"h-5 w-5 text-primary"}),"Plan d'Action 12 Semaines"]})}),e.jsx(p,{className:"pt-6 space-y-4",children:t.map((i,n)=>e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:`w-1 ${i.color} rounded-full shrink-0`}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h4",{className:"font-semibold",children:i.title}),e.jsx(E,{variant:"secondary",className:"text-xs",children:i.subtitle})]}),e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:i.content})]})]},n))})]})}function es(){const s=me(),t=s.auditId,[,i]=xe(),{toast:n}=De(),[r,m]=d.useState(null),[c,f]=d.useState(null),[v,x]=d.useState(!0),[w,b]=d.useState(!1),[D,k]=d.useState(!1),[L,W]=d.useState(!1),$=async()=>{if(!r||!t)return;b(!0);const a=window.open("","_blank");if(!a){n({title:"Popup bloque",description:"Autorise les popups pour ce site et reessaie.",variant:"destructive"}),b(!1);return}a.document.write("<html><head><title>Chargement...</title><style>body{font-family:sans-serif;display:flex;justify-content:center;align-items:center;height:100vh;margin:0;}</style></head><body><p>Chargement du rapport...</p></body></html>");try{const h=await fetch(`/api/audits/${t}/export/pdf`);if(h.ok){a.close();const l=await h.blob(),o=window.URL.createObjectURL(l),N=document.createElement("a");N.href=o,N.download=`neurocore-360-rapport-${t.slice(0,8)}.pdf`,document.body.appendChild(N),N.click(),window.URL.revokeObjectURL(o),document.body.removeChild(N),n({title:"Export reussi",description:"Ton rapport PDF a ete telecharge."})}else{const l=await fetch(`/api/audits/${t}/export/html`);if(!l.ok)throw a.close(),new Error("HTML export failed");const o=await l.text();a.document.open(),a.document.write(o),a.document.close(),a.onload=()=>{a==null||a.focus(),a==null||a.print()},setTimeout(()=>{a&&!a.closed&&(a.focus(),a.print())},1e3),n({title:"Export PDF",description:"Utilise 'Enregistrer en PDF' dans la boite de dialogue d'impression."})}}catch{a&&!a.closed&&a.close(),n({title:"Erreur",description:"Impossible de generer le PDF. Reessaie plus tard.",variant:"destructive"})}finally{b(!1)}},V=async()=>{if(!(!r||!t)){b(!0);try{const a=await fetch(`/api/audits/${t}/export/html`);if(!a.ok)throw new Error("Export failed");const h=await a.blob(),l=window.URL.createObjectURL(h),o=document.createElement("a");o.href=l,o.download=`neurocore-360-rapport-${t.slice(0,8)}.html`,document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(l),document.body.removeChild(o),n({title:"Export reussi",description:"Ton rapport HTML a ete telecharge."})}catch{n({title:"Erreur",description:"Impossible de generer le HTML. Reessaie plus tard.",variant:"destructive"})}finally{b(!1)}}};if(d.useEffect(()=>{if(!t)return;const a=async()=>{try{const l=await fetch(`/api/audits/${t}?light=1`);if(!l.ok){x(!1);return}const o=await l.json();if(f(o),o.type==="GRATUIT"){const N=await fetch(`/api/discovery-scan/${t}`);if(N.ok){const y=await N.json();y&&!y.error&&!y.message&&(m(y),f(I=>I&&{...I,reportDeliveryStatus:"READY"}))}}if(!r&&(o.reportDeliveryStatus==="READY"||o.reportDeliveryStatus==="SENT"||o.reportDeliveryStatus==="NEEDS_REVIEW")){const N=await fetch(`/api/audits/${t}/narrative`);if(N.ok){const y=await N.json();!y.error&&!y.message&&m(y)}}x(!1)}catch{x(!1)}};a();const h=setInterval(a,1e4);return()=>clearInterval(h)},[t,r]),d.useEffect(()=>{if(!c||!t)return;const a=c.type==="GRATUIT"?`/scan/${t}`:c.type==="PREMIUM"?`/anabolic/${t}`:c.type==="ELITE"?`/ultimate/${t}`:null;a&&i(a,{replace:!0})},[c,t,i]),d.useEffect(()=>{(async()=>{if(c&&!r&&!L&&c.type==="GRATUIT"&&!(c.reportDeliveryStatus==="READY"||c.reportDeliveryStatus==="SENT")){W(!0),k(!0);try{await fetch(`/api/discovery-scan/${t}/regenerate`,{method:"POST"}),n({title:"Regeneration lancee",description:"Je recalcule ton rapport Discovery. Il s'affichera dès qu'il est prêt."})}catch{n({title:"Regeneration echouée",description:"Reessaie ou contacte le support.",variant:"destructive"})}finally{k(!1)}}})()},[c,t,L,n]),v)return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(P,{}),e.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(F,{className:"h-10 w-10 animate-spin text-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Chargement de votre dossier..."})]})}),e.jsx(M,{})]});if(!c)return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(P,{}),e.jsxs("div",{className:"mx-auto max-w-4xl px-4 py-20 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Dossier non trouve"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Ce dossier n'existe pas ou a ete supprime."}),e.jsx(U,{href:"/",children:e.jsx(S,{className:"mt-6",children:"Retour a l'accueil"})})]}),e.jsx(M,{})]});if(c.reportDeliveryStatus!=="READY"&&c.reportDeliveryStatus!=="SENT"&&c.reportDeliveryStatus!=="NEEDS_REVIEW")return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(P,{}),e.jsx("div",{className:"mx-auto max-w-2xl px-4 py-20",children:e.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-6",children:e.jsx(O,{className:"h-10 w-10 text-primary"})}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Analyse en cours"}),e.jsx("p",{className:"text-muted-foreground mb-8",children:"Je suis en train d'analyser ton dossier. Je t'envoie l'email dès que ton bilan est prêt."}),e.jsx(u,{className:"text-left",children:e.jsxs(p,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center shrink-0",children:e.jsx(ue,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Temps de traitement"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ton rapport sera dispo sous 24 à 48h au maximum (souvent bien plus rapide)."})]})]}),c.type==="GRATUIT"&&e.jsxs("div",{className:"mt-4 flex flex-col gap-2",children:[e.jsx(S,{variant:"outline",onClick:async()=>{k(!0);try{await fetch(`/api/discovery-scan/${s.auditId}/regenerate`,{method:"POST"}),n({title:"Recalcul lancé",description:"Je regénère ton rapport. Il s'affichera dès qu'il est prêt."})}catch{n({title:"Erreur",description:"Regeneration échouée. Réessaie ou contacte le support.",variant:"destructive"})}finally{k(!1)}},disabled:D,children:D?"Recalcul...":"Forcer la génération"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Si tu vois ce message trop longtemps, clique sur Forcer la génération."})]})]})}),e.jsx(U,{href:"/",children:e.jsxs(S,{variant:"outline",className:"mt-8",children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),"Retour a l'accueil"]})})]})}),e.jsx(M,{})]});if(!r)return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(P,{}),e.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(F,{className:"h-10 w-10 animate-spin text-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Chargement du rapport..."})]})}),e.jsx(M,{})]});const T=r.auditType==="PREMIUM"||r.auditType==="ELITE";return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(P,{}),e.jsxs("div",{className:"mx-auto max-w-5xl px-4 py-8",children:[e.jsx(U,{href:"/dashboard",children:e.jsxs(S,{variant:"ghost",className:"mb-6","data-testid":"button-back-dashboard",children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),"Retour au tableau de bord"]})}),e.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[e.jsx(u,{className:"overflow-hidden border-0 shadow-lg",children:e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white p-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-8",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx(Fe,{score:r.global,size:"lg",showLabel:!1}),e.jsxs("div",{children:[e.jsxs(E,{className:`mb-3 ${r.auditType==="ELITE"?"bg-gradient-to-r from-amber-400 to-amber-600 text-black":r.auditType==="PREMIUM"?"bg-gradient-to-r from-primary to-emerald-400 text-white":"bg-slate-600"}`,children:[r.auditType==="ELITE"&&e.jsx(he,{className:"mr-1 h-3 w-3"}),r.auditType==="PREMIUM"&&e.jsx(J,{className:"mr-1 h-3 w-3"}),r.auditType==="GRATUIT"&&e.jsx(A,{className:"mr-1 h-3 w-3"}),"Bilan ",ze[r.auditType]??r.auditType]}),e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"APEXLABS"}),e.jsx("p",{className:"text-slate-300 mt-1",children:"Audit 360 Complet"})]})]}),e.jsx("div",{className:"flex-1"}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs(S,{variant:"outline",onClick:$,disabled:w,className:"bg-white/10 border-white/20 text-white hover:bg-white/20","data-testid":"button-export-pdf",children:[w?e.jsx(F,{className:"mr-2 h-4 w-4 animate-spin"}):e.jsx(pe,{className:"mr-2 h-4 w-4"}),"Telecharger PDF"]}),e.jsxs(S,{variant:"outline",onClick:V,disabled:w,className:"bg-white/10 border-white/20 text-white hover:bg-white/20","data-testid":"button-export-html",children:[e.jsx(fe,{className:"mr-2 h-4 w-4"}),"Version Web"]})]})]})})}),e.jsxs(u,{children:[e.jsx(j,{className:"border-b bg-muted/30",children:e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx(be,{className:"h-5 w-5 text-primary"}),"Synthese Executive"]})}),e.jsx(p,{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:r.heroSummary.split(`
`).map((a,h)=>{const l=a.trim();return l?l.startsWith("===")||l.startsWith("---")?e.jsx(C,{className:"my-4"},h):l.startsWith("- ")||l.startsWith("• ")||l.match(/^\d+\./)&&l.length<100?e.jsxs("div",{className:"flex items-start gap-3 pl-2",children:[e.jsx("span",{className:"text-primary font-bold",children:"✓"}),e.jsx("p",{className:"text-foreground/80 leading-relaxed",children:l.replace(/^[-•\d+.]\s*/,"")})]},h):e.jsx("p",{className:"text-foreground/90 leading-relaxed text-lg",children:l},h):null})})})]}),e.jsx(We,{sections:r.sections}),e.jsx(qe,{photoAnalysis:r.photoAnalysis,isPremium:T}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(u,{children:[e.jsx(j,{className:"border-b bg-muted/30",children:e.jsx(g,{className:"text-lg",children:"Vue Radar - 15 Domaines"})}),e.jsx(p,{className:"p-4",children:e.jsx($e,{scores:r.sections.reduce((a,h)=>{const l=h.id.replace(/-/g,"");return a[l]=h.score,a},{}),size:"md"})})]}),e.jsxs(u,{children:[e.jsx(j,{className:"border-b bg-muted/30",children:e.jsx(g,{className:"text-lg",children:"Scores Detailles"})}),e.jsx(p,{className:"p-4",children:e.jsx("div",{className:"space-y-2 max-h-[350px] overflow-y-auto pr-2",children:r.sections.map(a=>{const h=G(a.score),l={excellent:"bg-emerald-500",bon:"bg-blue-500",moyen:"bg-amber-500",faible:"bg-red-500"};return e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium truncate",children:a.title}),e.jsxs("span",{className:"text-sm font-bold",children:[a.score,"%"]})]}),e.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${l[h]} rounded-full transition-all duration-500`,style:{width:`${a.score}%`}})})]})},a.id)})})})]})]}),e.jsx(C,{className:"my-4"}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Analyse Detaillee par Domaine"}),e.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:T?"Acces complet aux 15 domaines d'analyse expert.":"4 sections accessibles. Passez en Anabolic pour debloquer les 11 sections avancees."})]})}),e.jsx("div",{className:"space-y-4",children:r.sections.map(a=>{const l=Be.includes(a.id)||T;return e.jsx(Me,{title:a.title,content:{introduction:a.introduction,whatIsWrong:a.whatIsWrong,personalizedAnalysis:a.personalizedAnalysis,recommendations:a.recommendations,supplements:a.supplements,actionPlan:a.actionPlan,scienceDeepDive:a.scienceDeepDive},score:a.score||0,level:a.level||G(a.score||0),isLocked:!l,onUnlock:()=>window.location.href="/audit-complet/checkout",expertName:"ACHZOD",isNarrative:!!a.introduction&&!a.personalizedAnalysis},a.id)})})]}),T&&e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"my-4"}),e.jsx(Ve,{supplements:r.supplementStack}),e.jsx(_e,{}),e.jsx(Ge,{weeklyPlan:r.weeklyPlan}),e.jsxs(u,{className:"bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 border-2",children:[e.jsx(j,{children:e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx(O,{className:"h-5 w-5 text-primary"}),"Conclusion de l'Audit"]})}),e.jsxs(p,{children:[e.jsx("p",{className:"text-base leading-relaxed",children:r.conclusion}),e.jsxs("div",{className:"mt-6 flex items-center gap-3 text-sm text-muted-foreground",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(O,{className:"w-4 h-4 text-primary"})}),e.jsxs("span",{children:["Analyse realisee par ",e.jsx("strong",{children:"ACHZOD"})," - Expert en metabolisme"]})]})]})]})]}),!T&&e.jsx(u,{className:"bg-gradient-to-r from-primary/10 via-accent/10 to-primary/10 border-2 border-primary/20",children:e.jsxs(p,{className:"flex flex-col items-center gap-6 p-8 text-center sm:flex-row sm:text-left",children:[e.jsx("div",{className:"flex h-16 w-16 shrink-0 items-center justify-center rounded-sm bg-primary",children:e.jsx(J,{className:"h-8 w-8 text-primary-foreground"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Debloquer l'analyse complete"}),e.jsx("p",{className:"mt-2 text-muted-foreground",children:"Accedez aux 15 domaines d'analyse, protocoles de supplements personnalises, et plan d'action sur 12 semaines."})]}),e.jsx(U,{href:"/audit-complet/checkout",children:e.jsxs(S,{size:"lg","data-testid":"button-upgrade-anabolic",children:[e.jsx(je,{className:"mr-2 h-4 w-4"}),"Passer Anabolic"]})})]})}),e.jsx(C,{className:"my-6"}),e.jsx(Ie,{auditId:t||""}),e.jsx(He,{})]})]}),e.jsx(M,{})]})}function He(){const[s,t]=d.useState([]),[i,n]=d.useState(!0);if(d.useEffect(()=>{(async()=>{try{const v=await(await fetch("/api/reviews")).json();v.success&&v.reviews&&t(v.reviews.slice(0,6))}catch(f){console.error("Error fetching reviews:",f)}finally{n(!1)}})()},[]),i||s.length===0)return null;const r=s.reduce((c,f)=>c+f.rating,0)/s.length,m=c=>e.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(f=>e.jsx(A,{className:`h-4 w-4 ${f<=c?"fill-yellow-400 text-yellow-400":"text-muted-foreground/30"}`},f))});return e.jsxs(u,{className:"mt-6","data-testid":"card-approved-reviews",children:[e.jsx(j,{children:e.jsxs(g,{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5 text-yellow-400"}),"Avis clients"]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm font-normal",children:[m(Math.round(r)),e.jsxs("span",{children:[r.toFixed(1),"/5"]}),e.jsxs("span",{className:"text-muted-foreground",children:["(",s.length," avis)"]})]})]})}),e.jsx(p,{children:e.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:s.map(c=>e.jsxs("div",{className:"rounded-lg border border-border/50 p-4","data-testid":`review-item-${c.id}`,children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[m(c.rating),e.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(c.createdAt).toLocaleDateString("fr-FR")})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:c.comment})]},c.id))})})]})}export{es as default};
