import{r as i,aF as c,j as e,B as r,bC as d,bx as m,s as u,F as x}from"./vendor-C1l_5e97.js";import{B as n}from"./button-DpFebx5z.js";import{C as h,a as p,b as j,c as f}from"./card-CFv6635F.js";import{u as v,H as g,a as N}from"./index-Cv9frRJP.js";function w(){const[s,l]=i.useState(null),{toast:t}=v(),a=c({mutationFn:async()=>{if(!s)throw new Error("Email manquant");return N("POST","/api/auth/magic-link",{email:s})},onSuccess:()=>{t({title:"Email renvoye",description:"Le lien d'acces vient d'etre renvoye."})},onError:()=>{t({title:"Erreur",description:"Impossible de renvoyer le lien. Verifie ton email.",variant:"destructive"})}});return i.useEffect(()=>{const o=localStorage.getItem("neurocore_email");l(o)},[]),e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(g,{}),e.jsx("div",{className:"mx-auto max-w-md px-4 py-20",children:e.jsx(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs(h,{children:[e.jsxs(p,{className:"text-center",children:[e.jsx(r.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.2},className:"mx-auto mb-4 flex h-20 w-20 items-center justify-center rounded-full bg-primary/10",children:e.jsx(d,{className:"h-10 w-10 text-primary"})}),e.jsx(j,{className:"text-2xl",children:"Verifie ta boite mail"}),e.jsxs("p",{className:"mt-2 text-muted-foreground",children:["Je viens d'envoyer un lien d'acces a"," ",e.jsx("span",{className:"font-medium text-foreground",children:s||"ton email"})]})]}),e.jsxs(f,{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-lg bg-muted/50 p-4",children:[e.jsx("h4",{className:"mb-2 font-medium",children:"Etape suivante"}),e.jsxs("ol",{className:"list-inside list-decimal space-y-2 text-sm text-muted-foreground",children:[e.jsx("li",{children:"Ouvre ta boîte mail"}),e.jsx("li",{children:"Cherche un email de APEXLABS by Achzod"}),e.jsx("li",{children:"Clique sur le lien pour acceder a ton espace"})]})]}),e.jsxs("div",{className:"rounded-lg border border-dashed p-4 text-center",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Tu n'as pas reçu l'email ?"}),e.jsxs(n,{variant:"ghost",className:"mt-1","data-testid":"button-resend",onClick:()=>a.mutate(),disabled:a.isPending,children:[e.jsx(m,{className:"mr-2 h-3 w-3"}),a.isPending?"Renvoi en cours...":"Renvoyer le lien"]})]}),e.jsx("p",{className:"text-center text-xs text-muted-foreground",children:"Verifie aussi tes spams si tu ne trouves pas l'email."}),e.jsx("div",{className:"pt-4",children:e.jsx(u,{href:"/auth/login",children:e.jsxs(n,{variant:"outline",className:"w-full","data-testid":"button-back-login",children:[e.jsx(x,{className:"mr-2 h-4 w-4"}),"Retour à la connexion"]})})})]})]})})})]})}export{w as default};
