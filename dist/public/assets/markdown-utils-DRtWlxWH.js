import{r as v,j as e,B as c,c5 as w,c6 as C,c7 as $,l as M,aW as P,aI as D,n as R}from"./vendor-C1l_5e97.js";import{u as j}from"./BloodThemeContext-E2xwPxg0.js";const q={optimal:"▲",normal:"●",suboptimal:"▼",critical:"⚠"},X=v.memo(function({marker:i}){const{theme:o}=j(),n=o.status[i.status];return e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},whileHover:{scale:1.02,transition:{duration:.2}},className:"BiomarkerCardPremium relative overflow-hidden rounded-xl border p-6 transition-all duration-300",style:{backgroundColor:`${n}0D`,borderColor:`${n}33`,boxShadow:`0 12px 30px ${n}1A`},children:e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-display text-sm font-bold uppercase tracking-wide",style:{color:o.textPrimary},children:i.name}),e.jsx("span",{className:"text-2xl",style:{color:n},"aria-hidden":"true",children:q[i.status]})]}),e.jsxs("div",{className:"mt-4 flex items-baseline gap-2",children:[e.jsx("span",{className:"font-data text-4xl font-bold",style:{color:n},children:i.value}),e.jsx("span",{className:"font-data text-lg",style:{color:o.textSecondary},children:i.unit})]}),i.normalMin!==null&&i.normalMax!==null&&e.jsxs("div",{className:"mt-3 font-body text-xs",style:{color:o.textSecondary},children:["Normal: ",i.normalMin," - ",i.normalMax," ",i.unit]}),e.jsx(c.div,{className:"absolute inset-x-0 top-0 h-[2px]",style:{background:`linear-gradient(90deg, transparent, ${n}, transparent)`},initial:{x:"-100%"},whileHover:{x:"100%",transition:{duration:1,repeat:1/0}}})]})})});X.displayName="BiomarkerCardPremium";const L=({title:s,value:i,unit:o,trend:n,trendValue:d,icon:a,status:m="normal",children:t})=>{const{theme:r}=j(),l=v.useRef(null),u=w(0),h=w(0),T=C($(h,[-.5,.5],[5,-5]),{stiffness:150,damping:20}),k=C($(u,[-.5,.5],[-5,5]),{stiffness:150,damping:20}),B=N=>{if(!l.current)return;const p=l.current.getBoundingClientRect(),I=p.left+p.width/2,z=p.top+p.height/2;u.set((N.clientX-I)/p.width),h.set((N.clientY-z)/p.height)},A=()=>{u.set(0),h.set(0)},f=r.status[m],x={border:`${f}66`,glow:`${f}33`,text:f},H={up:"↑",down:"↓",stable:"→"};return e.jsx(c.div,{ref:l,className:"relative group cursor-pointer",style:{perspective:1e3},onMouseMove:B,onMouseLeave:A,whileHover:{scale:1.02},transition:{type:"spring",stiffness:300,damping:20},children:e.jsxs(c.div,{className:"relative overflow-hidden rounded-2xl",style:{rotateX:T,rotateY:k,transformStyle:"preserve-3d",background:`${r.surfaceElevated}99`,backdropFilter:"blur(12px)",border:`1px solid ${x.border}`},children:[e.jsx(c.div,{className:"absolute inset-0 rounded-2xl pointer-events-none",style:{background:`linear-gradient(135deg, ${x.border}, transparent, ${x.border})`,opacity:0},whileHover:{opacity:1},transition:{duration:.3}}),e.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-5",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E")`,backgroundSize:"200px 200px"}}),e.jsx(c.div,{className:"absolute inset-0 rounded-2xl pointer-events-none",style:{boxShadow:`inset 0 0 60px ${x.glow}`,opacity:0},whileHover:{opacity:1},transition:{duration:.5}}),e.jsxs("div",{className:"relative z-10 p-8",style:{transform:"translateZ(20px)"},children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[a&&e.jsx(c.div,{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{background:`linear-gradient(135deg, ${x.glow}, transparent)`,border:`1px solid ${x.border}`},whileHover:{rotate:360},transition:{duration:.6},children:a}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm uppercase tracking-wider font-semibold",style:{color:r.textSecondary},children:s}),n&&d&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx("span",{style:{color:x.text},children:H[n]}),e.jsx("span",{className:"text-xs",style:{color:r.textTertiary},children:d})]})]})]})}),e.jsxs("div",{className:"flex items-baseline gap-3",children:[e.jsx(c.div,{className:"text-6xl font-bold font-mono tabular-nums",style:{color:x.text,textShadow:`0 0 30px ${x.glow}`},initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",delay:.1},children:i}),o&&e.jsx("span",{className:"text-2xl font-medium",style:{color:r.textTertiary},children:o})]}),t&&e.jsx("div",{className:"mt-6",children:t})]}),e.jsx(c.div,{className:"absolute inset-x-0 h-px pointer-events-none",style:{background:`linear-gradient(90deg, transparent, ${x.text}, transparent)`,boxShadow:`0 0 10px ${x.glow}`},animate:{top:["-10%","110%"]},transition:{duration:3,repeat:1/0,ease:"linear"}})]})})},W=({phases:s,currentPhase:i=1})=>{const{theme:o,mode:n}=j(),[d,a]=v.useState(i),m=n==="dark"?"#ffffff":"#000000";return e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"hidden lg:block",children:e.jsxs("div",{className:"relative flex items-center justify-between",children:[e.jsx("div",{className:"absolute top-6 left-0 right-0 h-0.5 bg-slate-800",children:e.jsx(c.div,{className:"h-full bg-gradient-to-r from-cyan-500 to-blue-500",initial:{width:"0%"},animate:{width:`${(i-1)/(s.length-1)*100}%`},transition:{duration:1,ease:"easeOut"}})}),s.map((t,r)=>{const l=t.id===i,u=t.id<i||t.completed;return t.id>i,e.jsxs("div",{className:"relative flex flex-col items-center z-10",children:[e.jsx(c.button,{className:"w-12 h-12 rounded-full flex items-center justify-center relative",style:{background:l?"linear-gradient(135deg, #06b6d4, #3b82f6)":u?"#10b981":"rgba(148, 163, 184, 0.2)",border:l?"3px solid rgba(6, 182, 212, 0.5)":"none"},onClick:()=>a(d===t.id?null:t.id),whileHover:{scale:1.1},whileTap:{scale:.95},animate:l?{boxShadow:["0 0 0 0 rgba(6, 182, 212, 0.4)","0 0 0 20px rgba(6, 182, 212, 0)"]}:{},transition:{duration:2,repeat:l?1/0:0},children:u?e.jsx(M,{className:"w-6 h-6",style:{color:m}}):e.jsx("span",{className:"font-bold",style:{color:m},children:t.id})}),e.jsxs("div",{className:"mt-4 text-center max-w-[120px]",children:[e.jsx("div",{className:`text-sm font-semibold ${l?"text-cyan-400":"text-slate-400"}`,children:t.title}),e.jsx("div",{className:"text-xs text-slate-600 mt-1",children:t.duration})]}),r<s.length-1&&e.jsx(P,{className:"absolute top-4 -right-8 w-5 h-5 text-slate-700",style:{display:"none"}})]},t.id)})]})}),e.jsx("div",{className:"lg:hidden space-y-4",children:s.map(t=>{const r=t.id===i,l=t.id<i||t.completed;return e.jsxs(c.div,{className:"flex gap-4",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:t.id*.1},children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{background:r?"linear-gradient(135deg, #06b6d4, #3b82f6)":l?"#10b981":"rgba(148, 163, 184, 0.2)"},children:l?e.jsx(M,{className:"w-5 h-5",style:{color:m}}):e.jsx("span",{className:"font-bold text-sm",style:{color:m},children:t.id})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`font-semibold ${r?"text-cyan-400":"text-slate-400"}`,children:t.title}),e.jsx("div",{className:"text-xs text-slate-600",children:t.duration})]})]},t.id)})}),e.jsx(D,{mode:"wait",children:d!==null&&e.jsx(c.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"overflow-hidden",children:s.filter(t=>t.id===d).map(t=>e.jsxs("div",{className:"rounded-xl p-6",style:{background:"rgba(26, 29, 36, 0.6)",backdropFilter:"blur(12px)",border:"1px solid rgba(6, 182, 212, 0.3)"},children:[e.jsx("h4",{className:"text-lg font-bold text-cyan-400 mb-2",children:t.title}),e.jsx("p",{className:"text-sm text-slate-400 mb-4",children:t.description}),e.jsx("ul",{className:"space-y-2",children:t.items.map((r,l)=>e.jsxs(c.li,{className:"flex items-start gap-3 text-sm text-slate-300",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:l*.05},children:[e.jsx(R,{className:"w-1.5 h-1.5 mt-2 flex-shrink-0 fill-cyan-500 text-cyan-500"}),e.jsx("span",{children:r})]},l))})]},t.id))})})]})},g=new Map,y=new Map,b=new Map,S=/(Derek(?: de MPMD)?|MPMD|Huberman|Attia|Masterjohn|Examine(?:\.com)?)/gi,F=s=>{if(y.has(s))return y.get(s);const i=s.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase();return y.set(s,i),i},_=s=>{if(g.has(s))return g.get(s);const i=[],o=/^##\s+(.+)$/gm,n=[];let d;for(;(d=o.exec(s))!==null;)n.push({title:d[1].trim(),start:d.index+d[0].length,end:s.length});for(let t=0;t<n.length-1;t++)n[t].end=s.lastIndexOf(`
`,n[t+1].start-n[t+1].title.length-4);for(const t of n){const r=s.slice(t.start,t.end).trim();t.title&&i.push({title:t.title,content:r})}const a=(...t)=>i.find(r=>t.some(l=>F(r.title).includes(l))),m={synthesis:a("synthese"),quality:a("qualite des donnees","qualite"),alerts:a("tableau de bord","alertes","vigilance"),potential:a("potentiel recomposition","potentiel"),systems:a("lecture compartimentee","analyse par axe","analyse par axes","systeme","systemes"),interconnections:a("interconnexions","interconnexion","correlations","correlation"),deepDive:a("deep dive"),plan90:a("plan d'action 90 jours","plan 90"),nutrition:a("nutrition"),supplements:a("supplements"),annexes:a("annexes"),sources:a("sources (bibliotheque)","sources scientifiques","sources")};return g.set(s,m),m},E=s=>{if(b.has(s))return b.get(s);const o=s.split(S).map((n,d)=>n.match(S)?e.jsx("span",{className:"font-semibold text-cyan-300",children:n},`hl-${d}`):n);return b.set(s,o),o},G=s=>typeof s=="string"?E(s):Array.isArray(s)?s.map((i,o)=>typeof i=="string"?e.jsx("span",{children:E(i)},`hl-${o}`):i):s;export{X as B,L as M,W as P,E as h,_ as p,G as r};
