import{r as f,j as e,B as c,c5 as v,c6 as j,c7 as N,l as w,aW as A,aI as H,n as z}from"./vendor-C1l_5e97.js";import{u as I}from"./BloodThemeContext-E2xwPxg0.js";const P={optimal:{bg:"bg-cyan-50",border:"border-cyan-200",glow:"shadow-[0_12px_30px_rgba(6,182,212,0.15)]",text:"text-cyan-700",icon:"▲"},normal:{bg:"bg-blue-50",border:"border-blue-200",glow:"shadow-[0_10px_24px_rgba(59,130,246,0.14)]",text:"text-blue-700",icon:"●"},suboptimal:{bg:"bg-amber-50",border:"border-amber-200",glow:"shadow-[0_12px_30px_rgba(245,158,11,0.18)]",text:"text-amber-700",icon:"▼"},critical:{bg:"bg-rose-50",border:"border-rose-200",glow:"shadow-[0_14px_34px_rgba(244,63,94,0.2)]",text:"text-rose-700",icon:"⚠"}},R=f.memo(function({marker:i}){const a=P[i.status];return e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},whileHover:{scale:1.02,transition:{duration:.2}},className:`BiomarkerCardPremium relative overflow-hidden rounded-xl border p-6 ${a.bg} ${a.border} ${a.glow} transition-all duration-300 grain-texture`,children:e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-display text-sm font-bold uppercase tracking-wide text-slate-900",children:i.name}),e.jsx("span",{className:`text-2xl ${a.text}`,"aria-hidden":"true",children:a.icon})]}),e.jsxs("div",{className:"mt-4 flex items-baseline gap-2",children:[e.jsx("span",{className:`font-data text-4xl font-bold ${a.text}`,children:i.value}),e.jsx("span",{className:"font-data text-lg text-slate-600",children:i.unit})]}),i.normalMin!==null&&i.normalMax!==null&&e.jsxs("div",{className:"mt-3 font-body text-xs text-slate-600",children:["Normal: ",i.normalMin," - ",i.normalMax," ",i.unit]}),e.jsx(c.div,{className:"absolute inset-x-0 top-0 h-[2px] bg-gradient-to-r from-transparent via-cyan-400 to-transparent",initial:{x:"-100%"},whileHover:{x:"100%",transition:{duration:1,repeat:1/0}}})]})})});R.displayName="BiomarkerCardPremium";const Y=({title:s,value:i,unit:a,trend:l,trendValue:d,icon:n,status:m="normal",children:t})=>{const o=f.useRef(null),r=v(0),u=v(0),$=j(N(u,[-.5,.5],[5,-5]),{stiffness:150,damping:20}),E=j(N(r,[-.5,.5],[-5,5]),{stiffness:150,damping:20}),S=y=>{if(!o.current)return;const p=o.current.getBoundingClientRect(),k=p.left+p.width/2,B=p.top+p.height/2;r.set((y.clientX-k)/p.width),u.set((y.clientY-B)/p.height)},_=()=>{r.set(0),u.set(0)},x={optimal:{border:"rgba(6, 182, 212, 0.4)",glow:"rgba(6, 182, 212, 0.2)",text:"#06b6d4"},normal:{border:"rgba(59, 130, 246, 0.4)",glow:"rgba(59, 130, 246, 0.2)",text:"#3b82f6"},suboptimal:{border:"rgba(245, 158, 11, 0.4)",glow:"rgba(245, 158, 11, 0.2)",text:"#f59e0b"},critical:{border:"rgba(244, 63, 94, 0.4)",glow:"rgba(244, 63, 94, 0.2)",text:"#f43f5e"}}[m],T={up:"↑",down:"↓",stable:"→"};return e.jsx(c.div,{ref:o,className:"relative group cursor-pointer",style:{perspective:1e3},onMouseMove:S,onMouseLeave:_,whileHover:{scale:1.02},transition:{type:"spring",stiffness:300,damping:20},children:e.jsxs(c.div,{className:"relative overflow-hidden rounded-2xl",style:{rotateX:$,rotateY:E,transformStyle:"preserve-3d",background:"rgba(26, 29, 36, 0.6)",backdropFilter:"blur(12px)",border:`1px solid ${x.border}`},children:[e.jsx(c.div,{className:"absolute inset-0 rounded-2xl pointer-events-none",style:{background:`linear-gradient(135deg, ${x.border}, transparent, ${x.border})`,opacity:0},whileHover:{opacity:1},transition:{duration:.3}}),e.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-5",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E")`,backgroundSize:"200px 200px"}}),e.jsx(c.div,{className:"absolute inset-0 rounded-2xl pointer-events-none",style:{boxShadow:`inset 0 0 60px ${x.glow}`,opacity:0},whileHover:{opacity:1},transition:{duration:.5}}),e.jsxs("div",{className:"relative z-10 p-8",style:{transform:"translateZ(20px)"},children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[n&&e.jsx(c.div,{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{background:`linear-gradient(135deg, ${x.glow}, transparent)`,border:`1px solid ${x.border}`},whileHover:{rotate:360},transition:{duration:.6},children:n}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm uppercase tracking-wider text-slate-400 font-semibold",children:s}),l&&d&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx("span",{style:{color:x.text},children:T[l]}),e.jsx("span",{className:"text-xs text-slate-500",children:d})]})]})]})}),e.jsxs("div",{className:"flex items-baseline gap-3",children:[e.jsx(c.div,{className:"text-6xl font-bold font-mono tabular-nums",style:{color:x.text,textShadow:`0 0 30px ${x.glow}`},initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",delay:.1},children:i}),a&&e.jsx("span",{className:"text-2xl text-slate-500 font-medium",children:a})]}),t&&e.jsx("div",{className:"mt-6",children:t})]}),e.jsx(c.div,{className:"absolute inset-x-0 h-px pointer-events-none",style:{background:`linear-gradient(90deg, transparent, ${x.text}, transparent)`,boxShadow:`0 0 10px ${x.glow}`},animate:{top:["-10%","110%"]},transition:{duration:3,repeat:1/0,ease:"linear"}})]})})},F=({phases:s,currentPhase:i=1})=>{const{theme:a,mode:l}=I(),[d,n]=f.useState(i),m=l==="dark"?"#ffffff":"#000000";return e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"hidden lg:block",children:e.jsxs("div",{className:"relative flex items-center justify-between",children:[e.jsx("div",{className:"absolute top-6 left-0 right-0 h-0.5 bg-slate-800",children:e.jsx(c.div,{className:"h-full bg-gradient-to-r from-cyan-500 to-blue-500",initial:{width:"0%"},animate:{width:`${(i-1)/(s.length-1)*100}%`},transition:{duration:1,ease:"easeOut"}})}),s.map((t,o)=>{const r=t.id===i,u=t.id<i||t.completed;return t.id>i,e.jsxs("div",{className:"relative flex flex-col items-center z-10",children:[e.jsx(c.button,{className:"w-12 h-12 rounded-full flex items-center justify-center relative",style:{background:r?"linear-gradient(135deg, #06b6d4, #3b82f6)":u?"#10b981":"rgba(148, 163, 184, 0.2)",border:r?"3px solid rgba(6, 182, 212, 0.5)":"none"},onClick:()=>n(d===t.id?null:t.id),whileHover:{scale:1.1},whileTap:{scale:.95},animate:r?{boxShadow:["0 0 0 0 rgba(6, 182, 212, 0.4)","0 0 0 20px rgba(6, 182, 212, 0)"]}:{},transition:{duration:2,repeat:r?1/0:0},children:u?e.jsx(w,{className:"w-6 h-6",style:{color:m}}):e.jsx("span",{className:"font-bold",style:{color:m},children:t.id})}),e.jsxs("div",{className:"mt-4 text-center max-w-[120px]",children:[e.jsx("div",{className:`text-sm font-semibold ${r?"text-cyan-400":"text-slate-400"}`,children:t.title}),e.jsx("div",{className:"text-xs text-slate-600 mt-1",children:t.duration})]}),o<s.length-1&&e.jsx(A,{className:"absolute top-4 -right-8 w-5 h-5 text-slate-700",style:{display:"none"}})]},t.id)})]})}),e.jsx("div",{className:"lg:hidden space-y-4",children:s.map(t=>{const o=t.id===i,r=t.id<i||t.completed;return e.jsxs(c.div,{className:"flex gap-4",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:t.id*.1},children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{background:o?"linear-gradient(135deg, #06b6d4, #3b82f6)":r?"#10b981":"rgba(148, 163, 184, 0.2)"},children:r?e.jsx(w,{className:"w-5 h-5",style:{color:m}}):e.jsx("span",{className:"font-bold text-sm",style:{color:m},children:t.id})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`font-semibold ${o?"text-cyan-400":"text-slate-400"}`,children:t.title}),e.jsx("div",{className:"text-xs text-slate-600",children:t.duration})]})]},t.id)})}),e.jsx(H,{mode:"wait",children:d!==null&&e.jsx(c.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"overflow-hidden",children:s.filter(t=>t.id===d).map(t=>e.jsxs("div",{className:"rounded-xl p-6",style:{background:"rgba(26, 29, 36, 0.6)",backdropFilter:"blur(12px)",border:"1px solid rgba(6, 182, 212, 0.3)"},children:[e.jsx("h4",{className:"text-lg font-bold text-cyan-400 mb-2",children:t.title}),e.jsx("p",{className:"text-sm text-slate-400 mb-4",children:t.description}),e.jsx("ul",{className:"space-y-2",children:t.items.map((o,r)=>e.jsxs(c.li,{className:"flex items-start gap-3 text-sm text-slate-300",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:r*.05},children:[e.jsx(z,{className:"w-1.5 h-1.5 mt-2 flex-shrink-0 fill-cyan-500 text-cyan-500"}),e.jsx("span",{children:o})]},r))})]},t.id))})})]})},g=new Map,b=new Map,h=new Map,C=/(Derek(?: de MPMD)?|MPMD|Huberman|Attia|Masterjohn|Examine(?:\.com)?)/gi,q=s=>{if(b.has(s))return b.get(s);const i=s.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase();return b.set(s,i),i},L=s=>{if(g.has(s))return g.get(s);const i=[],a=/^##\s+(.+)$/gm,l=[];let d;for(;(d=a.exec(s))!==null;)l.push({title:d[1].trim(),start:d.index+d[0].length,end:s.length});for(let t=0;t<l.length-1;t++)l[t].end=s.lastIndexOf(`
`,l[t+1].start-l[t+1].title.length-4);for(const t of l){const o=s.slice(t.start,t.end).trim();t.title&&i.push({title:t.title,content:o})}const n=(...t)=>i.find(o=>t.some(r=>q(o.title).includes(r))),m={synthesis:n("synthese"),quality:n("qualite des donnees","qualite"),alerts:n("tableau de bord","alertes"),potential:n("potentiel recomposition","potentiel"),systems:n("lecture compartimentee","systeme"),interconnections:n("interconnexions","interconnexion"),deepDive:n("deep dive"),plan90:n("plan d'action 90 jours","plan 90"),nutrition:n("nutrition"),supplements:n("supplements"),annexes:n("annexes"),sources:n("sources (bibliotheque)","sources scientifiques","sources")};return g.set(s,m),m},M=s=>{if(h.has(s))return h.get(s);const a=s.split(C).map((l,d)=>l.match(C)?e.jsx("span",{className:"font-semibold text-cyan-300",children:l},`hl-${d}`):l);return h.set(s,a),a},O=s=>typeof s=="string"?M(s):Array.isArray(s)?s.map((i,a)=>typeof i=="string"?e.jsx("span",{children:M(i)},`hl-${a}`):i):s;export{R as B,Y as M,F as P,M as h,L as p,O as r};
