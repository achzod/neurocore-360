services:
  - type: web
    name: neurocore-360
    runtime: node
    plan: starter
    buildCommand: npm install && (npm run db:push || echo "db:push failed, continuing") && npm run build
    startCommand: npm start
    envVars:
      - key: NODE_ENV
        value: production
      - key: PORT
        value: 5000
      - key: GEMINI_MODEL
        value: gemini-2.0-flash-exp
      - key: SMTP_HOST
        value: smtp-pulse.com
      - key: SMTP_PORT
        value: 587
      - key: SMTP_FROM_EMAIL
        value: coaching@achzodcoaching.com
      # À configurer manuellement dans Render Dashboard :
      # - DATABASE_URL (copie depuis Replit ou crée une DB sur Render)
      # - GEMINI_API_KEY (optionnel, seulement si tu utilises Gemini)
      # - SESSION_SECRET (généré automatiquement ou random string)
      # - SENTRY_DSN (optionnel)
      # - VITE_SENTRY_DSN (optionnel)
      # - SMTP_USER (ton email SendPulse)
      # - SMTP_PASS (ton pass SendPulse)
      # - STRIPE_PEPTIDES_PRICE_ID (price_id Stripe pour Peptides Engine)
